<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div class="col-sm-2" th:fragment="content(product)">
    <div>
        <a th:href="@{'/p/'+${product.alias}}">
            <img th:src="@{${product.mainImagePath}}" th:alt="${product.name}" width="150"/><br>
            <b>[[${product.shortName}]]</b>
        </a>
    </div>

    <div th:if="${product.discountPercent <= 0}">
        <div th:replace="product/product_fragment :: price(${product.price})" th:remove="tag"></div>
    </div>

    <div th:if="${product.discountPercent > 0}">
        <span style="font-size: larger; color: darkred">
            <div th:replace="product/product_fragment :: price(${product.discountPrice})" th:remove="tag"
                 style="display: inline"></div>
        </span>
        <del>
            <div th:replace="product/product_fragment :: price(${product.price})" th:remove="tag"></div>
        </del>
    </div>

</div>

<div th:fragment="price(numericalContent)" th:remove="tag">
    <span th:if="${CURRENCY_SYMBOL_POSITION == 'before'}" th:remove="tag">[[${CURRENCY_SYMBOL}]]</span>
    [[${#numbers.formatDecimal(numericalContent, 1, THOUSANDS_POINT_TYPE, DECIMAL_DIGITS, CURRENCY_POINT_TYPE)}]]
    <span th:if="${CURRENCY_SYMBOL_POSITION == 'after'}" th:remove="tag">[[${CURRENCY_SYMBOL}]]</span>
</div>

</body>
</html>